From 94c1deae6d5a43491c5a4e8444ecd8273a8122a1 Mon Sep 17 00:00:00 2001
From: Ricardo Maraschini <ricardo.maraschini@gmail.com>
Date: Wed, 31 Jan 2024 12:48:22 +0100
Subject: [PATCH 1/2] bug: add proxy support for oci getter

adds missing proxy support on oci chart getter.

Signed-off-by: Ricardo Maraschini <ricardo.maraschini@gmail.com>
---
 pkg/getter/ocigetter.go | 1 +
 1 file changed, 1 insertion(+)

diff --git a/pkg/getter/ocigetter.go b/pkg/getter/ocigetter.go
index 209786bd..0547cdcb 100644
--- a/pkg/getter/ocigetter.go
+++ b/pkg/getter/ocigetter.go
@@ -119,6 +119,7 @@ func (g *OCIGetter) newRegistryClient() (*registry.Client, error) {
 			IdleConnTimeout:       90 * time.Second,
 			TLSHandshakeTimeout:   10 * time.Second,
 			ExpectContinueTimeout: 1 * time.Second,
+			Proxy:                 http.ProxyFromEnvironment,
 		}
 	})
 
-- 
2.40.0

